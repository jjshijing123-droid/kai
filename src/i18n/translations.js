// åŸºç¡€ç¿»è¯‘é…ç½®
const baseTranslations = {
  "en": {
    "test_verification": "Verification Test",
    "header_title": "MyApp - Verified",
    "header_appName": "Product Configurator",
    "header_i18nManager": "Translation Manager",
    "header_productManager": "Product Manager",
    "header_language": "Language",
    "header_menu": "Menu",
    "drawer_menu": "Menu",
    "drawer_navigation": "Navigation",
    "drawer_home": "Home",
    "drawer_profile": "Profile",
    "drawer_settings": "Settings",
    "drawer_help": "Help",
    "drawer_about": "About",
    "productList_loadingProducts": "Loading products...",
    "productList_retry": "Retry",
    "productList_imageNotFound": "Image not found",
    "productList_noProducts": "No products available",
    "productDetail_product360": "Product 360Â° Rotation",
    "productDetail_product6Views": "Product 6 Views",
    "productDetail_productOther": "Other Images",
    "i18nManager_title": "Translation Manager",
    "i18nManager_saveAll": "Save All",
    "i18nManager_export": "Export",
    "i18nManager_completeness": "Translation Completeness",
    "i18nManager_allTranslations": "All Translations",
    "i18nManager_search": "Search translations...",
    "i18nManager_translationKey": "Translation Key",
    "i18nManager_actions": "Actions",
    "i18nManager_delete": "Delete",
    "i18nManager_newKey": "New key",
    "i18nManager_newTranslation": "Translation",
    "i18nManager_add": "Add",
    "i18nManager_saveSuccess": "Translations saved successfully",
    "productManagement_title": "Product Management",
    "productManagement_back": "Back",
    "productManagement_addProduct": "Add Product",
    "productManagement_searchPlaceholder": "Search products...",
    "productManagement_totalProducts": "Total {count} products",
    "productManagement_loading": "Loading products...",
    "productManagement_retry": "Retry",
    "productManagement_delete": "Delete",
    "productManagement_noProducts": "No products found",
    "productManagement_addFirstProduct": "Add First Product",
    "productManagement_noImage": "No image",
    "productManagement_productName": "Product Name",
    "productManagement_productNamePlaceholder": "Enter product name (folder name)",
    "productManagement_invalidName": "Product name contains invalid characters",
    "productManagement_nameExists": "Product name already exists",
    "productManagement_uploadFiles": "Upload Files",
    "productManagement_mainImage": "Main Image",
    "productManagement_sixViews": "Six Views",
    "productManagement_otherImages": "Other Images",
    "productManagement_viewSequences": "View Sequences",
    "productManagement_view": "View {number}",
    "productManagement_cancel": "Cancel",
    "productManagement_creating": "Creating...",
    "productManagement_create": "Create",
    "productManagement_confirmDelete": "Confirm Delete",
    "productManagement_deleteWarning": "Are you sure you want to delete product \"{name}\"? This action cannot be undone.",
    "fileUploader_disabled": "Please enter product name first",
    "fileUploader_dropMultiple": "Drop files here or click to upload",
    "fileUploader_dropSingle": "Drop file here or click to upload",
    "fileUploader_mainImageHint": "Main product image (will be renamed to image_00.webp)",
    "fileUploader_multipleHint": "Multiple files supported",
    "fileUploader_singleHint": "Single file only",
    "fileUploader_filesCount": "{count} files selected",
    "fileUploader_uploading": "Uploading...",
    "fileUploader_uploaded": "Uploaded",
    "fileUploader_remove": "Remove",
    "fileUploader_singleFileOnly": "Only single file is allowed",
    "fileUploader_invalidFileType": "Invalid file type",
    "fileUploader_uploadFailed": "Upload failed",
    "fileUploader_parseError": "Failed to parse server response",
    "fileUploader_serverError": "Server error",
    "fileUploader_networkError": "Network error",
    "fileUploader_productNameRequired": "Please enter product name first",
    "fileUploader_productNotExists": "Product \"{name}\" does not exist. Please create the product first.",
    "detectingImages": "Detecting image count...",
    "loadingImages": "Detected {count} images, starting to load...",
    "loading": "Loading... ({loaded}/{total})",
    "noImagesFound": "No images found",
    "loadFailed": "Load failed: {message}",
    "frameLoadFailed": "Frame load failed: {frame}",
    "frameLoadTimeout": "Frame load timeout: {frame}",
    "imagesFailed": "{count} images failed to load, rotation may not be smooth",
    "retry": "Retry",
    "autoRotate": "Auto Rotate",
    "stopRotation": "Stop Rotation",
    "download": "Download All Views",
    "downloading": "Generating download file...",
    "downloadReady": "Download file is ready",
    "downloadError": "Download failed: {message}",
    "downloadingProgress": "Downloading {current}/{total} images...",
    "downloadAllImages": "Download All Images",
    "preparingDownload": "Preparing download...",
    "downloadingImages": "Downloading images... ({processed}/{total})",
    "downloadComplete": "Download complete!",
    "thumbnailAlt": "Thumbnail {index}",
    "detectingImages": "Detecting images...",
    "loadingImages": "Found {count} images, starting to load...",
    "noImagesFound": "No images found",
    "loadFailed": "Load failed: {message}",
    "downloadError": "Download failed: {message}"
  },
  "zh-CN": {
    "test_verification": "éªŒè¯æµ‹è¯•",
    "header_title": "æˆ‘çš„åº”ç”¨ - å·²éªŒè¯",
    "header_appName": "å›½é‚¦ååŒç§‘æŠ€",
    "header_i18nManager": "ç¿»è¯‘ç®¡ç†å™¨",
    "header_productManager": "äº§å“ç®¡ç†",
    "header_language": "è¯­è¨€",
    "header_menu": "èœå•",
    "drawer_menu": "èœå•",
    "drawer_navigation": "å¯¼èˆª",
    "drawer_home": "é¦–é¡µ",
    "drawer_profile": "ä¸ªäººèµ„æ–™",
    "drawer_settings": "è®¾ç½®",
    "drawer_help": "å¸®åŠ©",
    "drawer_about": "å…³äº",
    "productList_loadingProducts": "æ­£åœ¨åŠ è½½äº§å“...",
    "productList_retry": "é‡è¯•",
    "productList_imageNotFound": "å›¾ç‰‡æœªæ‰¾åˆ°",
    "productList_noProducts": "æš‚æ— äº§å“",
    "productDetail_product360": "äº§å“360Â°æ—‹è½¬",
    "productDetail_product6Views": "äº§å“6è§†å›¾",
    "productDetail_productOther": "å…¶ä»–å›¾ç‰‡",
    "i18nManager_title": "ç¿»è¯‘ç®¡ç†å™¨",
    "i18nManager_saveAll": "ä¿å­˜å…¨éƒ¨",
    "i18nManager_export": "å¯¼å‡º",
    "i18nManager_completeness": "ç¿»è¯‘å®Œæ•´æ€§",
    "i18nManager_allTranslations": "æ‰€æœ‰ç¿»è¯‘",
    "i18nManager_search": "æœç´¢ç¿»è¯‘...",
    "i18nManager_translationKey": "ç¿»è¯‘é”®",
    "i18nManager_actions": "æ“ä½œ",
    "i18nManager_delete": "åˆ é™¤",
    "i18nManager_newKey": "æ–°é”®",
    "i18nManager_newTranslation": "ç¿»è¯‘",
    "i18nManager_add": "æ·»åŠ ",
    "i18nManager_saveSuccess": "ç¿»è¯‘ä¿å­˜æˆåŠŸ",
    "productManagement_title": "äº§å“ç®¡ç†",
    "productManagement_back": "è¿”å›",
    "productManagement_addProduct": "æ·»åŠ äº§å“",
    "productManagement_searchPlaceholder": "æœç´¢äº§å“...",
    "productManagement_totalProducts": "å…± {count} ä¸ªäº§å“",
    "productManagement_loading": "æ­£åœ¨åŠ è½½äº§å“...",
    "productManagement_retry": "é‡è¯•",
    "productManagement_delete": "åˆ é™¤",
    "productManagement_noProducts": "æš‚æ— äº§å“",
    "productManagement_addFirstProduct": "æ·»åŠ ç¬¬ä¸€ä¸ªäº§å“",
    "productManagement_noImage": "æ— å›¾ç‰‡",
    "productManagement_productName": "äº§å“åç§°",
    "productManagement_productNamePlaceholder": "è¾“å…¥äº§å“åç§°ï¼ˆæ–‡ä»¶å¤¹åç§°ï¼‰",
    "productManagement_invalidName": "äº§å“åç§°åŒ…å«æ— æ•ˆå­—ç¬¦",
    "productManagement_nameExists": "äº§å“åç§°å·²å­˜åœ¨",
    "productManagement_uploadFiles": "ä¸Šä¼ æ–‡ä»¶",
    "productManagement_mainImage": "ä¸»å›¾",
    "productManagement_sixViews": "å…­è§†å›¾",
    "productManagement_otherImages": "å…¶ä»–å›¾ç‰‡",
    "productManagement_viewSequences": "è§†è§’åºåˆ—å¸§",
    "productManagement_view": "è§†è§’ {number}",
    "productManagement_cancel": "å–æ¶ˆ",
    "productManagement_creating": "åˆ›å»ºä¸­...",
    "productManagement_create": "åˆ›å»º",
    "productManagement_confirmDelete": "ç¡®è®¤åˆ é™¤",
    "productManagement_deleteWarning": "ç¡®å®šè¦åˆ é™¤äº§å“ \"{name}\" å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚",
    "fileUploader_disabled": "è¯·å…ˆè¾“å…¥äº§å“åç§°",
    "fileUploader_dropMultiple": "æ‹–æ”¾æ–‡ä»¶åˆ°æ­¤å¤„æˆ–ç‚¹å‡»ä¸Šä¼ ",
    "fileUploader_dropSingle": "æ‹–æ”¾æ–‡ä»¶åˆ°æ­¤å¤„æˆ–ç‚¹å‡»ä¸Šä¼ ",
    "fileUploader_mainImageHint": "äº§å“ä¸»å›¾ï¼ˆå°†é‡å‘½åä¸º image_00.webpï¼‰",
    "fileUploader_multipleHint": "æ”¯æŒå¤šä¸ªæ–‡ä»¶",
    "fileUploader_singleHint": "ä»…æ”¯æŒå•ä¸ªæ–‡ä»¶",
    "fileUploader_filesCount": "å·²é€‰æ‹© {count} ä¸ªæ–‡ä»¶",
    "fileUploader_uploading": "ä¸Šä¼ ä¸­...",
    "fileUploader_uploaded": "å·²ä¸Šä¼ ",
    "fileUploader_remove": "ç§»é™¤",
    "fileUploader_singleFileOnly": "ä»…å…è®¸å•ä¸ªæ–‡ä»¶",
    "fileUploader_invalidFileType": "æ— æ•ˆçš„æ–‡ä»¶ç±»å‹",
    "fileUploader_uploadFailed": "ä¸Šä¼ å¤±è´¥",
    "fileUploader_parseError": "è§£ææœåŠ¡å™¨å“åº”å¤±è´¥",
    "fileUploader_serverError": "æœåŠ¡å™¨é”™è¯¯",
    "fileUploader_networkError": "ç½‘ç»œé”™è¯¯",
    "fileUploader_productNameRequired": "è¯·å…ˆè¾“å…¥äº§å“åç§°",
    "fileUploader_productNotExists": "äº§å“ \"{name}\" ä¸å­˜åœ¨ï¼Œè¯·å…ˆåˆ›å»ºäº§å“",
    "detectingImages": "æ­£åœ¨æ£€æµ‹å›¾ç‰‡æ•°é‡...",
    "loadingImages": "å…±æ£€æµ‹åˆ° {count} å¼ å›¾ç‰‡ï¼Œå¼€å§‹åŠ è½½...",
    "loading": "åŠ è½½ä¸­... ({loaded}/{total})",
    "noImagesFound": "æœªæ‰¾åˆ°ä»»ä½•å›¾ç‰‡",
    "loadFailed": "åŠ è½½å¤±è´¥: {message}",
    "frameLoadFailed": "å¸§åŠ è½½å¤±è´¥: {frame}",
    "frameLoadTimeout": "å¸§åŠ è½½è¶…æ—¶: {frame}",
    "imagesFailed": "{count}å¼ å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œæ—‹è½¬å¯èƒ½ä¸æµç•…",
    "retry": "é‡è¯•",
    "autoRotate": "è‡ªåŠ¨æ—‹è½¬",
    "stopRotation": "åœæ­¢æ—‹è½¬",
    "download": "ä¸‹è½½æ‰€æœ‰è§†è§’",
    "downloading": "æ­£åœ¨ç”Ÿæˆä¸‹è½½æ–‡ä»¶...",
    "downloadReady": "ä¸‹è½½æ–‡ä»¶å·²å‡†å¤‡å°±ç»ª",
    "downloadError": "ä¸‹è½½å¤±è´¥: {message}",
    "downloadingProgress": "æ­£åœ¨ä¸‹è½½ {current}/{total} å¼ å›¾ç‰‡...",
    "downloadAllImages": "ä¸‹è½½å…¨éƒ¨å›¾ç‰‡",
    "preparingDownload": "å‡†å¤‡ä¸‹è½½ä¸­...",
    "downloadingImages": "æ­£åœ¨ä¸‹è½½å›¾ç‰‡... ({processed}/{total})",
    "downloadComplete": "ä¸‹è½½å®Œæˆï¼",
    "thumbnailAlt": "ç¼©ç•¥å›¾ {index}",
    "detectingImages": "æ­£åœ¨æ£€æµ‹å›¾ç‰‡...",
    "loadingImages": "å…±å‘ç° {count} å¼ å›¾ç‰‡ï¼Œå¼€å§‹åŠ è½½...",
    "noImagesFound": "æœªæ‰¾åˆ°ä»»ä½•å›¾ç‰‡",
    "loadFailed": "åŠ è½½å¤±è´¥: {message}",
    "downloadError": "ä¸‹è½½å¤±è´¥: {message}"
  }
}

// åŠ¨æ€ç¿»è¯‘å¯¹è±¡ - ç›´æ¥ä½¿ç”¨åŸºç¡€ç¿»è¯‘ï¼Œä¸å†ä»localStorageåŠ è½½
export let translations = { ...baseTranslations }

// æ›´æ–°ç¿»è¯‘å¯¹è±¡ï¼ˆç”¨äºä¿å­˜åæ›´æ–°ï¼‰
export function updateTranslations(newTranslations) {
  // æ·±åº¦åˆå¹¶æ–°ç¿»è¯‘åˆ°ç°æœ‰ç¿»è¯‘ä¸­
  Object.keys(newTranslations).forEach(lang => {
    if (!translations[lang]) {
      translations[lang] = {}
    }
    Object.assign(translations[lang], newTranslations[lang])
  })
  console.log('Translations updated:', translations)
}

// é‡æ–°åŠ è½½ç¿»è¯‘æ•°æ®ï¼ˆç”¨äºä¿å­˜ååˆ·æ–°ï¼‰
export function reloadTranslations() {
  // é‡æ–°åŠ è½½åŸºç¡€ç¿»è¯‘
  translations = { ...baseTranslations }
}

// è·å–ç¿»è¯‘å‡½æ•°
export function getTranslation(key, language = 'en') {
  const langTranslations = translations[language] || translations['en']
  return langTranslations[key] || key
}

// è¯­è¨€é…ç½®
export const languages = {
  'en': { name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  'zh-CN': { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' }
}
