# ICE图片查看器 - 项目目录结构说明

## 根目录结构

```
ICE图片查看器/
├── 项目配置文件/
│   ├── package.json                    # 项目依赖和脚本配置
│   ├── package-lock.json               # 依赖版本锁定文件
│   ├── vite.config.js                  # Vite构建工具配置
│   ├── tailwind.config.js              # Tailwind CSS配置
│   ├── postcss.config.js               # PostCSS配置
│   ├── .gitignore                      # Git忽略文件配置
│   ├── index.html                      # HTML入口文件
│   ├── 对应颜色变量.md                  # 颜色变量说明文档
│   ├── no_proxy_fix.sh                 # 代理修复脚本
│   └── fix_proxy_config.sh             # 代理配置修复脚本
│
├── 服务器代码/
│   ├── server.js                       # Express服务器入口文件
│   └── server/                         # 后端服务目录
│       ├── routes/                     # API路由定义
│       │   ├── products.js             # 产品管理路由
│       │   ├── folders.js              # 文件夹管理路由
│       │   ├── files.js                # 文件操作路由
│       │   └── uploads.js              # 文件上传路由
│       ├── services/                   # 业务逻辑服务层
│       │   ├── productService.js       # 产品服务
│       │   ├── fileService.js          # 文件服务
│       │   ├── folderService.js        # 文件夹服务
│       │   └── uploadService.js        # 上传服务
│       └── utils/                      # 工具函数
│           ├── generateProductCatalog.js  # 产品目录生成工具
│           └── productCatalogUtils.js     # 产品目录工具
│
├── 前端源码/
│   └── src/                            # 前端源代码目录
│       ├── main.js                     # Vue应用入口
│       ├── App.vue                     # 根组件
│       ├── components/                 # Vue组件目录
│       │   ├── ui/                     # 基础UI组件
│       │   │   ├── button.vue          # 按钮组件
│       │   │   ├── input.vue           # 输入框组件
│       │   │   ├── modal.vue           # 模态框组件
│       │   │   ├── table.vue           # 表格组件
│       │   │   ├── card.vue            # 卡片组件
│       │   │   ├── badge.vue           # 徽章组件
│       │   │   ├── progress.vue        # 进度条组件
│       │   │   ├── tabs.vue            # 标签页组件
│       │   │   ├── drawer.vue          # 抽屉组件
│       │   │   ├── breadcrumb.vue      # 面包屑导航
│       │   │   ├── pagination.vue      # 分页组件
│       │   │   ├── search-input.vue    # 搜索输入框
│       │   │   ├── password-input.vue  # 密码输入框
│       │   │   ├── lucide-icon.vue     # 图标组件
│       │   │   ├── notification-container.vue # 通知容器
│       │   │   ├── error-handler.vue   # 错误处理组件
│       │   │   ├── error-state.vue     # 错误状态组件
│       │   │   ├── loading-state.vue   # 加载状态组件
│       │   │   ├── empty-state.vue     # 空状态组件
│       │   │   ├── lazy-image.vue      # 懒加载图片组件
│       │   │   ├── virtual-list.vue    # 虚拟列表组件
│       │   │   └── shortcut-help.vue   # 快捷键帮助
│       │   │
│       │   ├── 业务组件/
│       │   │   ├── AdminLoginModal.vue     # 管理员登录模态框
│       │   │   ├── BatchUploadModal.vue    # 批量上传模态框
│       │   │   ├── Product_list.vue        # 产品列表组件
│       │   │   ├── Product_Management.vue  # 产品管理组件
│       │   │   ├── Product_Viewimages.vue  # 产品图片查看组件
│       │   │   ├── Product3DViewer.vue     # 3D查看器组件
│       │   │   ├── Product3DHeader.vue     # 3D查看器头部
│       │   │   ├── ProductFolderUploader.vue # 文件夹上传组件
│       │   │   ├── Product_nav.vue         # 产品导航组件
│       │   │   ├── Header.vue              # 页面头部组件
│       │   │   ├── Drawer.vue              # 抽屉菜单组件
│       │   │   ├── I18nManagementPanel.vue # 国际化管理面板
│       │   │   └── Functionaldescription.vue # 功能说明组件
│       │
│       ├── composables/                # Vue组合式函数
│       │   ├── useAdminAuth.js         # 管理员认证
│       │   ├── useDataFetch.js         # 数据获取
│       │   ├── useErrorMonitoring.js   # 错误监控
│       │   ├── useI18n.js              # 国际化
│       │   ├── useKeyboardShortcuts.js # 键盘快捷键
│       │   ├── useNotifications.js     # 通知管理
│       │   └── useTooltip.js           # 工具提示
│       │
│       ├── i18n/                       # 国际化配置
│       │   ├── index.js                # 国际化入口
│       │   └── translations.js         # 翻译内容
│       │
│       ├── services/                   # 前端服务层
│       │   ├── apiService.js           # API服务
│       │   └── productService.js       # 产品服务
│       │
│       ├── stores/                     # 状态管理
│       │   └── notificationStore.js    # 通知状态管理
│       │
│       ├── styles/                     # 样式文件
│       │   └── globals.css             # 全局样式
│       │
│       ├── theme/                      # 主题配置
│       │   └── index.js                # 主题入口
│       │
│       ├── utils/                      # 工具函数
│       │   ├── errorHandler.js         # 错误处理
│       │   ├── logger.js               # 日志工具
│       │   └── responsive.js           # 响应式工具
│       │
│       ├── lib/                        # 第三方库
│       │   └── utils.js                # 工具函数
│       │
│       ├── images/                     # 图片资源
│       │   ├── Logo.png                # 项目Logo
│       │   └── icelogo.webp            # ICE Logo
│       │
│       └── router/                     # 路由配置
│           └── index.js                # 路由定义
│
├── 静态资源/
│   └── public/                         # 静态资源目录
│       └── data/                       # 数据文件
│           └── product-catalog.json    # 产品目录数据
│
├── 数据存储/
│   ├── Product/                        # 产品文件存储目录
│   │   ├── 产品文件夹1/                # 各产品文件夹
│   │   │   ├── images_6Views/          # 6视图图片
│   │   │   ├── images_other/           # 其他图片
│   │   │   ├── view1/                  # 视角1图片 (32帧)
│   │   │   ├── view2/                  # 视角2图片 (32帧)
│   │   │   ├── view3/                  # 视角3图片 (32帧)
│   │   │   └── view4/                  # 视角4图片 (32帧)
│   │   └── 产品文件夹2/
│   └── uploads/                        # 上传文件存储目录
│
└── 文档/
    ├── README.md                       # 项目说明文档
    ├── 项目详细文档.md                 # 详细项目文档
    ├── API接口文档.md                  # API接口文档
    └── 项目目录结构说明.md             # 目录结构说明
```

## 目录功能详解

### 1. 根目录配置文件

#### package.json
项目依赖管理和脚本定义：
- **依赖**: 包含所有前端和后端依赖包
- **脚本**: 定义开发、构建、启动等命令
- **元数据**: 项目名称、版本、描述等信息

#### vite.config.js
Vite构建工具配置：
- **开发服务器**: 配置开发环境服务器
- **构建优化**: 生产环境构建配置
- **插件配置**: Vue插件和自定义配置

#### tailwind.config.js
Tailwind CSS框架配置：
- **主题定制**: 自定义颜色、字体、间距
- **响应式断点**: 媒体查询配置
- **插件**: 额外的Tailwind插件

#### postcss.config.js
PostCSS配置：
- **Autoprefixer**: 自动添加浏览器前缀
- **CSS优化**: CSS压缩和优化

#### index.html
HTML入口文件：
- **Vue挂载点**: Vue应用的挂载容器
- **Meta标签**: SEO和移动端优化
- **资源引入**: 预加载资源

### 2. 服务器代码结构 (server/)

#### server.js
Express服务器主入口：
- **中间件配置**: CORS、JSON解析、文件服务
- **路由注册**: API路由和静态资源路由
- **错误处理**: 全局错误处理中间件
- **服务启动**: 服务器启动逻辑

#### routes/ 目录
API路由定义，按功能模块划分：

##### products.js
产品管理相关路由：
- 产品列表查询
- 产品创建、修改、删除
- 产品详情获取
- 产品图片管理

##### folders.js
文件夹管理相关路由：
- 文件夹结构获取
- 文件夹创建、删除、重命名
- 文件夹树结构
- 文件搜索功能

##### files.js
文件操作相关路由：
- 文件删除
- 文件信息获取
- 文件下载链接
- 文件夹检查

##### uploads.js
文件上传相关路由：
- 单文件上传
- 文件夹上传
- 批量上传
- 上传进度

#### services/ 目录
业务逻辑服务层，实现关注点分离：

##### productService.js
产品业务逻辑：
- 文件系统操作
- 产品数据结构处理
- 图片路径管理
- 产品目录生成

##### fileService.js
文件操作业务逻辑：
- 文件增删改查
- 文件类型检查
- 文件大小计算
- 文件URL生成

##### folderService.js
文件夹管理业务逻辑：
- 文件夹结构遍历
- 文件夹树生成
- 文件搜索算法
- 权限检查

##### uploadService.js
上传业务逻辑：
- ZIP文件解压
- 批量文件处理
- 上传进度跟踪
- 错误处理和恢复

#### utils/ 目录
通用工具函数：

##### generateProductCatalog.js
产品目录生成工具：
- 扫描文件系统
- 生成产品索引
- 数据结构优化

##### productCatalogUtils.js
产品目录操作工具：
- 目录数据读写
- 数据验证
- 版本管理

### 3. 前端源码结构 (src/)

#### main.js
Vue应用入口文件：
- Vue实例创建
- 插件注册
- 全局配置

#### App.vue
根组件：
- 全局布局结构
- 路由视图容器
- 全局状态管理

#### components/ 目录
Vue组件，按类型分层组织：

##### ui/ 子目录
基础UI组件库，提供可复用的界面元素：

**输入组件**:
- `input.vue` - 基础输入框
- `password-input.vue` - 密码输入框
- `search-input.vue` - 搜索输入框

**反馈组件**:
- `button.vue` - 按钮组件
- `modal.vue` - 模态框
- `drawer.vue` - 抽屉菜单
- `notification-container.vue` - 通知容器

**数据展示组件**:
- `table.vue` - 表格组件
- `card.vue` - 卡片组件
- `badge.vue` - 徽章组件
- `progress.vue` - 进度条
- `pagination.vue` - 分页组件

**导航组件**:
- `breadcrumb.vue` - 面包屑导航
- `tabs.vue` - 标签页

**状态组件**:
- `loading-state.vue` - 加载状态
- `error-state.vue` - 错误状态
- `empty-state.vue` - 空状态

**功能组件**:
- `lucide-icon.vue` - 图标组件
- `lazy-image.vue` - 懒加载图片
- `virtual-list.vue` - 虚拟列表
- `shortcut-help.vue` - 快捷键帮助

##### 业务组件目录
特定业务功能的组件：

**产品相关组件**:
- `Product_list.vue` - 产品列表展示
- `Product_Management.vue` - 产品管理界面
- `Product3DViewer.vue` - 3D产品查看器
- `Product_Viewimages.vue` - 产品图片查看
- `Product_nav.vue` - 产品导航

**上传管理组件**:
- `BatchUploadModal.vue` - 批量上传模态框
- `ProductFolderUploader.vue` - 文件夹上传组件

**用户界面组件**:
- `AdminLoginModal.vue` - 管理员登录
- `Header.vue` - 页面头部
- `I18nManagementPanel.vue` - 国际化管理

#### composables/ 目录
Vue 3 Composition API组合式函数：

**认证相关**:
- `useAdminAuth.js` - 管理员认证逻辑

**数据处理**:
- `useDataFetch.js` - 数据获取和缓存
- `useErrorMonitoring.js` - 错误监控和报告

**用户体验**:
- `useI18n.js` - 国际化功能
- `useKeyboardShortcuts.js` - 键盘快捷键
- `useNotifications.js` - 通知系统
- `useTooltip.js` - 工具提示

#### services/ 目录
前端服务层：

**API服务**:
- `apiService.js` - HTTP请求封装
- `productService.js` - 产品相关API调用

#### i18n/ 目录
国际化配置：

**翻译管理**:
- `index.js` - 国际化初始化
- `translations.js` - 翻译内容定义

#### stores/ 目录
状态管理：

**轻量级状态管理**:
- `notificationStore.js` - 通知状态管理

#### styles/ 目录
样式文件：

**全局样式**:
- `globals.css` - 全局样式定义

#### theme/ 目录
主题配置：

**主题管理**:
- `index.js` - 主题配置和切换

#### utils/ 目录
工具函数：

**辅助功能**:
- `errorHandler.js` - 错误处理工具
- `logger.js` - 日志记录工具
- `responsive.js` - 响应式计算工具

#### lib/ 目录
第三方库封装：

**工具库**:
- `utils.js` - 通用工具函数

#### images/ 目录
静态图片资源：

**项目图片**:
- `Logo.png` - 项目主Logo
- `icelogo.webp` - ICE Logo (WebP格式)

#### router/ 目录
路由配置：

**页面路由**:
- `index.js` - Vue Router配置定义

### 4. 静态资源结构 (public/)

#### data/ 子目录
应用数据文件：

**产品数据**:
- `product-catalog.json` - 产品目录数据文件

### 5. 数据存储结构

#### Product/ 目录
产品文件存储主目录，采用标准化的文件夹结构：

```
Product/
└── {产品名称}/              # 产品文件夹（以产品名称命名）
    ├── images_6Views/       # 6视图图片目录
    │   ├── image_00.webp    # 主图文件
    │   ├── image_01.webp
    │   └── ...
    ├── images_other/        # 其他图片目录
    │   ├── image_00.webp
    │   ├── image_01.webp
    │   └── ...
    ├── view1/               # 视角1图片序列（32帧）
    │   ├── image_00.webp    # 第1帧
    │   ├── image_01.webp    # 第2帧
    │   ├── ...
    │   └── image_31.webp    # 第32帧
    ├── view2/               # 视角2图片序列（32帧）
    │   ├── image_00.webp
    │   ├── ...
    │   └── image_31.webp
    ├── view3/               # 视角3图片序列（32帧）
    │   ├── image_00.webp
    │   ├── ...
    │   └── image_31.webp
    └── view4/               # 视角4图片序列（32帧）
        ├── image_00.webp
        ├── ...
        └── image_31.webp
```

**命名规范**:
- 产品文件夹名：使用英文、数字和下划线
- 图片文件名：`image_XX.webp` 格式，XX为两位数帧编号（00-31）
- 支持的图片格式：WebP（首选）、PNG、JPG

#### uploads/ 目录
临时上传文件存储：
- 上传过程中的临时文件
- 文件处理中间结果
- 自动清理机制

## 文件命名规范

### Vue组件命名
- **PascalCase**: `ProductList.vue`
- **业务组件**: 以功能命名，如 `Product3DViewer.vue`
- **UI组件**: 使用语义化命名，如 `SearchInput.vue`

### JavaScript文件命名
- **camelCase**: `useAdminAuth.js`
- **服务类**: PascalCase，如 `ProductService.js`
- **工具函数**: 小写字母，如 `errorHandler.js`

### 图片文件命名
- **产品图片**: `image_XX.ext` (XX: 00-31)
- **项目Logo**: `Logo.png`, `icelogo.webp`
- **静态图标**: 小写字母，语义化命名

### 文件夹命名
- **业务文件夹**: PascalCase，如 `Product`, `UserManagement`
- **工具文件夹**: 小写字母，如 `utils`, `services`
- **产品文件夹**: 英文、数字、下划线组合

## 代码组织原则

### 1. 分层架构
- **表现层**: Vue组件负责UI渲染
- **业务层**: Service类处理业务逻辑
- **数据层**: 直接文件系统操作
- **工具层**: 通用工具函数

### 2. 模块化设计
- **组件复用**: UI组件高度可复用
- **功能封装**: 每个Service专注特定功能
- **工具集成**: 通用工具函数集中管理

### 3. 配置分离
- **环境配置**: 不同环境的独立配置
- **构建配置**: 分离开发和生产配置
- **主题配置**: 样式主题独立配置

### 4. 资源管理
- **静态资源**: 统一存放在public目录
- **图片资源**: 按用途分类存放
- **数据文件**: 结构化数据独立管理

## 扩展性考虑

### 1. 水平扩展
- **API模块化**: 新功能可独立添加路由
- **组件库扩展**: UI组件可独立扩展
- **服务层扩展**: 新的业务服务可独立添加

### 2. 垂直扩展
- **数据库支持**: 可扩展为支持关系型数据库
- **缓存系统**: 可集成Redis等缓存系统
- **消息队列**: 可添加消息队列处理

### 3. 功能扩展
- **用户系统**: 可添加完整的用户认证和权限系统
- **API网关**: 可集成API网关统一管理
- **监控系统**: 可添加应用性能监控

---

本目录结构说明文档为项目的开发和维护提供了清晰的指导，确保团队成员能够快速理解项目结构并进行高效的开发工作。